Домашнее задание № 2 
## Разработка тестов для ToDo приложения.

### Описание/Пошаговая инструкция выполнения домашнего задания:
Дано приложение с кодом для запуска из-под IntelliJ IDEA 2023.1.*
https://github.com/otus-qa-kotlin/todo.git
https://github.com/OTUSEU/lesson_1_todo.git
Написать три теста и сформировать отчеты в > test через MainKtTest

1. Возьмите (Fork, Clone, Zip), запустите и изучите код приложения ToDo
2. Сделать тест добавления задачи и появления ее в списке 
3. Завершить задачу и проверить корректность работы фильтра по завершенным задачам
4. Проверить сортировку задач по названию и сроку исполнения
5. Сформировать отчет с использованием библиотеки Allure Kotlin
6. Проверьте работоспособность написанного кода (запуском тестов из IntelliJ).
7. Код залейте на github. Название репозитория - otus-qa-kotlin-hw, ветка hw02-todo.
   В ДЗ отправьте ссылку на pull request или ссылку на репозиторий.
   Вам потребуется 90-120 минут на выполнения задания.
   Если возникнут сложности, вы всегда можете обсудить их с одногруппниками или задать вопрос преподавателю Slack

### Критерии оценки:
* Созданы тесты добавления, завершения, фильтрации и сортировки - 5.
* Подготовлен отчет в формате Allure - 3.
* Соблюдены правила форматирования, функции, классы и переменные назвали осмысленно - 2.
* Работа считается принятой, если оценка или более баллов.
* Максимальная оценка за работу - 10.
      
### Критерии приемки:
Результатом должен быть код теста, который заполняет пустой список задач тестовыми данными
и проверяет корректность текущего состояния списка при выполнении

1. Изучите код тестируемого приложения https://github.com/OTUSEU/lesson_1_todo.git (с комментариями)
2. Весь тест рассчитан на то что mutableList в Repository.kt не инкапсулированан. 
Если программист поставит private val tasks = mutableListOf<Task>() т.е исправит свою ошибку инкапсуляции
   (кстати, основная программа работать будет правильно)
то все написанные тесты перестанут работать - попробуйте.
3. В addTaskToListTest почему-то проверяет на присутствие в списке АКТИВНЫХ задач добавленную активную задачу.
Можно, конечно, а почему не в списке всех задач?
4. Тест completedTasksFilterTest() - НЕУСТОЙЧИВЫЙ логически, т.е. дает разные результаты при прогонах.
Это недопустимо для тестов. 
Логика: Берем весь список тестов (3 активных и 2 завершенные = всего 5)
Берем оттуда случайный тест (как попадется активный или завершенный);
Делаем его завершенным;
Берем все задачи и отфильтровываем активные;
Спрашиваем сколько задач в списке активных;
НО какую задачу мы пометили завершенной - активную или уже завершенную не акценитровались.
Поэтому будет завершенных то 2 то 3 - как попадется.
Или надо помечать завершенной одну из активных(исправлено по тексту) или построить тест как-нибудь по другому.
Тест ДОЛЖЕН давать одни и те же результаты на одни и те же данные иначе это не тест или неустойчивый тест.
Поставьте @Repeate(7) в свой код - увидите неустойчивость теста.
5. Проверить сортировку задач по названию и сроку исполнения - этот пункт задания выполнить нельзя, т.к.
нет функции программы - дать список задач сортированный по названию,
тем более нет функции программы - дать список задач сортированный по сроку исполнения 
функции по сроку исполнения и быть не может, т.к. в полях задачи нет срока исполнения - не по чему сортировать 
Т.к. мы тестеры и в код не имеем права ничего вносить, то послать программистам - пусть делают.
Сделают тогда тестировать будем.
   nameAndPriorityFilterTest()  - 
6. По отчету: Вы подключили allure, но не вызвали отчет allure в build.gradle.kts
7. Можно еще оттестировать unit тестами в качестве доп. тренировки: 
 - построения меню на экране renderMenu()
 - функции из Actions.kt с подменой репозитория на @MockK
 - override метода .toString() у data class Task
Тогда можно будет утверждать, что 
 - Сделаны тесты добавления задачи и появления ее в списке 
 - Тест Завершить задачу и проверить корректность работы фильтра по завершенным задачам
Только по passed тесту репозитория нельзя утверждать, что оттестировано добавление задачи и появления ее в списке.
Программист может испортить/перепутать что-нибудь в renderMenu() и/или в функции Actions.kt и задача, например, 
вместо добавления начала удаляться или завершаться - тест репозитория этого не увидит.
   
 



